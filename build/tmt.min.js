!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={age:'<p id="viewer-card__profile-age"></p>',history:'\n    <div class="tw-inline-flex tw-pd-1">\n        <select class="tmt-name-history">\n            <option>Name History</option>\n        </select>\n    </div>\n'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a='<path d="M8,15c-3.866,0-7-3.134-7-7s3.134-7,7-7s7,3.134,7,7S11.866,15,8,15z M8,3C5.238,3,3,5.238,3,8c0,2.762,2.238,5,5,5 c2.762,0,5-2.238,5-5C13,5.238,10.762,3,8,3z"></path><path d="M5.558,4.582l5.861,5.86l-0.978,0.978l-5.86-5.861L5.558,4.582z M10.441,4.582l0.978,0.977l-5.861,5.861l-0.977-0.978 L10.441,4.582z"></path>';"true"==localStorage.tmtJackyScrubby&&(a='<path d="M2,4v12h12V4H2z M5.3,13.3C5.3,13.7,5,14,4.7,14S4,13.7,4,13.3V6.7C4,6.3,4.3,6,4.7,6s0.7,0.3,0.7,0.7V13.3z M8.7,13.3C8.7,13.7,8.4,14,8,14s-0.7-0.3-0.7-0.7V6.7C7.3,6.3,7.6,6,8,6s0.7,0.3,0.7,0.7V13.3z M12,13.3c0,0.4-0.3,0.7-0.7,0.7s-0.7-0.3-0.7-0.7V6.7C10.7,6.3,11,6,11.3,6S12,6.3,12,6.7V13.3z M14.7,1.3v1.3H1.3V1.3h3.8c0.6,0,1.1-0.7,1.1-1.3h3.5c0,0.6,0.5,1.3,1.1,1.3H14.7z"></path>');var o='<button class="mod-icon" data-a-target="chat-purge-button">\n    <div class="tw-tooltip-wrapper tw-inline-flex">\n        <figure class="tw-svg">\n            <svg class="tw-svg__asset tw-svg__asset--inherit" width="16px" height="16px" version="1.1" viewBox="0 0 16 16" x="0px" y="0px">\n            '+a+'\n            </svg>\n        </figure>\n    <div class="tw-tooltip tw-tooltip--up tw-tooltip--align-center" data-a-target="tw-tooltip-label" role="tooltip">Purge</div>\n    </div>\n</button>';e.default={purge:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={actions:'\n<div class="tw-c-background-alt-2 tw-border-t tw-full-width tw-flex tw-justify-content-between tmt-tools">\n    <div class="tw-inline-flex tw-flex-row">\n        <div class="tw-inline-flex">\n            <button class="tw-button-icon">\n                <span class="tw-button__text tmt-timeout" data-tmt-timeout="1">Purge</span>\n            </button>\n        </div>\n    </div>\n    <div class="tw-inline-flex tw-flex-row">\n        <div class="tw-inline-flex">\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="300">\n                <span class="tw-button__text">5m</span>\n            </button>\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="600">\n                <span class="tw-button__text">10m</span>\n            </button>\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="3600">\n                <span class="tw-button__text">1h</span>\n            </button>\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="43200">\n                <span class="tw-button__text">12h</span>\n            </button>\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="86400">\n                <span class="tw-button__text">1d</span>\n            </button>\n            <button class="tw-button-icon tmt-timeout" data-tmt-timeout="604800">\n                <span class="tw-button__text">1w</span>\n            </button>\n        </div>\n    </div>\n</div>\n\n<div class="tw-c-background tw-full-width tw-flex">\n    <div class="tw-inline-flex tw-flex-row">\n        <div class="tw-inline-flex tw-pd-1">\n            <select class="tmt-ban-reason">\n                <option value="">Select a Ban Reason</option>\n                <option value="One-Man Spam">1) One-Man Spam</option>\n                <option value="Posting Bad Links">2) Posting Bad Links</option>\n                <option value="Ban Evasion">3) Ban Evasion</option>\n                <option value="Threats / Personal Info">4) Threats / Personal Info</option>\n                <option value="Hate / Harassment">5) Hate / Harassment</option>\n                <option value="Ignoring Broadcaster / Moderators">6) Ignoring Broadcaster / Moderators</option>\n            </select>\n        </div>\n    </div>\n</div>'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(2)),o=i(n(1)),r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}e.default={modCard:a.default,icons:o.default,viewerCard:r.default}},function(t,e,n){"use strict";var a,o=n(3),r=(a=o)&&a.__esModule?a:{default:a};var i,s,l,c,u={attributes:!1,childList:!0,characterData:!1,subtree:!0},d=[""],m=0,f=["help","w","me","disconnect","mods","color","commercial","mod","unmod","ban","unban","timeout","untimeout","slow","slowoff","r9kbeta","r9kbetaoff","emoteonly","emoteonlyoff","clear","subscribers","subscribersoff","followers","followersoff","host","unhost"],p={};localStorage.tmtAliases&&(p=JSON.parse(localStorage.tmtAliases));var v=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.forEach(function(t){if("DIV"==t.nodeName){if(i.isCurrentUserModerator)if(t.attributes.getNamedItem("data-a-target")&&"chat-welcome-message"===t.attributes.getNamedItem("data-a-target").value&&(l=t.parentElement),t.classList.contains("chat-line__message")&&!0===findReact(t).memoizedProps.showModerationIcons&&((e=t).querySelector('[data-a-target="chat-timeout-button"]').insertAdjacentHTML("afterend",r.default.icons.purge),e.querySelector('[data-a-target="chat-purge-button"]').addEventListener("click",w)),t.classList.contains("viewer-card-layer__draggable"))findReact(document.querySelector(".viewer-card-layer")).return.memoizedProps.viewerCardOptions.targetLogin!=i.currentUserLogin&&h(function(){!function(){document.querySelector(".viewer-card__actions").insertAdjacentHTML("beforeend",r.default.modCard.actions);for(var t=document.getElementsByClassName("tmt-timeout"),e=0;e<t.length;e++)t[e].addEventListener("click",b)}()});t.classList.contains("viewer-card-layer__draggable")&&h(function(){var t=findReact(document.querySelector(".viewer-card-layer")).return.memoizedProps.viewerCardOptions.targetLogin,e=function(t){return S("https://api.twitch.tv/kraken/users/"+t+"?client_id=5ojgte4x1dp72yumoc8fp9xp44nhdj")}(t);!function(t){document.querySelector(".viewer-card__banner").classList.remove("tw-align-center");var e=document.querySelector(".viewer-card__display-name");e.classList.remove("tw-align-items-center"),e.insertAdjacentHTML("beforeend",r.default.viewerCard.age);var n=new Date(t),a=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear();document.getElementById("viewer-card__profile-age").innerHTML="Created on: "+a}(e.created_at),t!=i.currentUserLogin&&function(t){var e=S("https://twitch-tools.rootonline.de/username_changelogs_search.php?q="+t+"&format=json");if(e.length>0)for(var n in document.querySelector(".viewer-card__actions").children[0].children[1].insertAdjacentHTML("afterend",r.default.viewerCard.history),e){var a=document.createElement("option");a.text=e[n].username_old,document.querySelector(".tmt-name-history").add(a)}}(e._id)})}var e})})});function w(){var t;g("/timeout "+(t=this.parentElement.parentElement,findReact(t).memoizedProps.message.user.userLogin)+" 1")}function b(){g("/timeout "+findReact(document.querySelector(".viewer-card-layer")).return.memoizedProps.viewerCardOptions.targetLogin+" "+this.getAttribute("data-tmt-timeout")+" "+document.querySelector(".tmt-ban-reason").value)}function g(t){i.onSendMessage(t)}function h(t){var e=0,n=setInterval(function(){document.querySelector(".viewer-card")&&(e++,clearInterval(n),1==e&&t())},100)}function _(t){"38"==(t=t||window.event).keyCode&&m<d.length-1?(m++,M()):"40"==t.keyCode&&m>0?(m--,M()):"13"==t.keyCode&&c.value&&y()}function y(){var t=c.value;if(0!=m&&(d.splice(m,1),m=0),d.splice(1,0,t),"/"==t.charAt(0)){var e=(t=t.substr(1)).split(" "),n=e[0].toLowerCase();if("alias"===n){var a=e[1],o=e.splice(2).join(" ");if(f.includes(a))return;findReact(c).return.memoizedProps.onValueUpdate(""),c.value="";var r,s=!1;if(a){if("delete"===a&&o)p.hasOwnProperty(o)?(delete p[o],x("Removed alias: "+o)):x("Alias "+o+" does not exist!");else if("list"===a)if(void 0===p[0])x("No current aliases.",!0);else for(var l in x("Current aliases:",!0),p){x(l+": "+p[l])}else o?p[a]=o:s=!0;localStorage.tmtAliases=JSON.stringify(p)}else s=!0;!0===s&&(r="Usage: /alias <name> <alias>","delete"===a&&(r="Usage: /alias delete <name>"),x(r))}else p.hasOwnProperty(n)&&(findReact(c).return.memoizedProps.onValueUpdate(""),c.value="",i.onSendMessage(p[n]))}}function x(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");n.setAttribute("class","chat-line__status");var a=document.createElement("span");e&&(a.style.fontWeight="bold"),a.textContent=t,n.appendChild(a),l.appendChild(n)}function M(){var t=d[m];findReact(c).return.memoizedProps.onValueUpdate(t),c.value=t}function S(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),JSON.parse(e.responseText)}new MutationObserver(function(t){t.forEach(function(t){(s=document.querySelector('[data-test-selector="chat-room-component-layout"]'))&&(i=findReactChat(s),v.observe(s,u),c=document.querySelector('[data-test-selector="chat-input"]'),document.querySelector('[data-test-selector="chat-send-button"]').onclick=y,c.onkeydown=_)})}).observe(document.body,u),window.findReact=function(t){for(var e in t){if(e.startsWith("__reactInternalInstance$"))return t[e].return}return null},window.findReactChat=function(t){for(var e in t){if(e.startsWith("__reactInternalInstance$"))return t[e].memoizedProps.children._owner.memoizedProps}return null}}]);